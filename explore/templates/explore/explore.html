{% extends 'base.html' %}
{% load static %}
{% block title %}Explore{% endblock title %}
{% block header %}{% endblock header %}
{% block content %}
<div class="container">
    <div class="col-md-10 center-card">
        <div class="card-body row no-gutters align-items-center center-card">
          <div class="col-auto">
            <i class="fas fa-search h4 text-body"></i>
          </div>
    
          <div class="col">
            <form class="search-bar justify-content-start" onsubmit="return executeQuery();">
            <input
            name="q" id="id_q_large"
            autocomplete="off"
              
              class="form-control form-control-lg form-control-borderless"
              type="text"
              spellcheck="true"
              placeholder="Find your friends"
            />
            
          </div>
          <!--end of col-->
          <div class="col-auto">
            <button id="btn-search" class="btn btn-lg btn-primary" type="submit">
              Find
            </button>
           </form>
          </div><!--end of col-->
         
      </div> <!--End Col-->
    
      </div>
      {%if accounts%}
      <div class="row row-col-4 g-3">

      {% for account in accounts %}
      <div class="col col-md-4 col-sm-6 col-xs-12 col-lg-3">
      <div class="card">
        <div class="card-body">
          
          <p class="card-title  main-font-2" style="font-size: 1.6em;">
           <a style="text-decoration: none;" class="link-primary" href="{% url 'friend-list' account.user%}">{{account.user}}</a>
          </p>
          {%if account.private%}
        
         <p class="card-text  main-font">Private <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-file-lock2" viewBox="0 0 16 16">
          <path d="M8 5a1 1 0 0 1 1 1v1H7V6a1 1 0 0 1 1-1zm2 2.076V6a2 2 0 1 0-4 0v1.076c-.54.166-1 .597-1 1.224v2.4c0 .816.781 1.3 1.5 1.3h3c.719 0 1.5-.484 1.5-1.3V8.3c0-.627-.46-1.058-1-1.224z"/>
          <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
        </svg></p>
        {%else%}
        
        <p class="card-text  main-font">Public <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-unlock" viewBox="0 0 16 16">
          <path d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z"/>
        </svg>
        </p>
        {%endif%}
         </div>
        
      </div>
    </div>
      {%endfor%}
     
  {%endif%}
</div>
</div> <!--End container-->

<script type="text/javascript">
	function executeQuery() {
		var query = ""
		query = document.getElementById('id_q_small').value;
		if (query == ""){
			query = document.getElementById('id_q_large').value;
		}
	    window.location.replace("{% url 'search' %}?q=" + query)
	    return false
	}
</script>
{% endblock content %}
